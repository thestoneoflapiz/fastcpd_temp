!function(e){"function"==typeof define&&define.amd?define(["./inputmask"],e):"object"==typeof exports?module.exports=e(require("./inputmask")):e(window.Inputmask)}(function(e){var i=e.dependencyLib;function r(i,r){for(var t="",a=0;a<i.length;a++)e.prototype.definitions[i.charAt(a)]||r.definitions[i.charAt(a)]||r.optionalmarker.start===i.charAt(a)||r.optionalmarker.end===i.charAt(a)||r.quantifiermarker.start===i.charAt(a)||r.quantifiermarker.end===i.charAt(a)||r.groupmarker.start===i.charAt(a)||r.groupmarker.end===i.charAt(a)||r.alternatormarker===i.charAt(a)?t+="\\"+i.charAt(a):t+=i.charAt(a);return t}return e.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var i=Math.floor(e.integerDigits/e.groupSize),t=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===t?i-1:i),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a="[+]";if(a+=r(e.prefix,e),!0===e.integerOptional?a+="~{1,"+e.integerDigits+"}":a+="~{"+e.integerDigits+"}",void 0!==e.digits){var n=e.decimalProtect?":":e.radixPoint,o=e.digits.toString().split(",");isFinite(o[0])&&o[1]&&isFinite(o[1])?a+=n+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional?a+="["+n+";{1,"+e.digits+"}]":a+=n+";{"+e.digits+"}")}return a+=r(e.suffix,e),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function(e,r,t,a,n,o){if("-"===t||t===n.negationSymbol.front)return!0===n.allowMinus&&(n.isNegative=void 0===n.isNegative||!n.isNegative,""===e.join("")||{caret:o.validPositions[r]?r:void 0,dopost:!0});if(!1===a&&t===n.radixPoint&&void 0!==n.digits&&(isNaN(n.digits)||parseInt(n.digits)>0)){var p=i.inArray(n.radixPoint,e);if(-1!==p&&void 0!==o.validPositions[p])return!0===n.numericInput?r===p:{caret:p+1}}return!0},postValidation:function(r,t,a,n){var o=n.suffix.split(""),p=n.prefix.split("");if(void 0===a.pos&&void 0!==a.caret&&!0!==a.dopost)return a;var s=void 0!==a.caret?a.caret:a.pos,l=r.slice();n.numericInput&&(s=l.length-s-1,l=l.reverse());var g=l[s];if(g===n.groupSeparator&&(g=l[s+=1]),s===l.length-n.suffix.length-1&&g===n.radixPoint)return a;void 0!==g&&g!==n.radixPoint&&g!==n.negationSymbol.front&&g!==n.negationSymbol.back&&(l[s]="?",n.prefix.length>0&&s>=(!1===n.isNegative?1:0)&&s<n.prefix.length-1+(!1===n.isNegative?1:0)?p[s-(!1===n.isNegative?1:0)]="?":n.suffix.length>0&&s>=l.length-n.suffix.length-(!1===n.isNegative?1:0)&&(o[s-(l.length-n.suffix.length-(!1===n.isNegative?1:0))]="?")),p=p.join(""),o=o.join("");var c=l.join("").replace(p,"");if(c=(c=(c=(c=c.replace(o,"")).replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),"")).replace(new RegExp("[-"+e.escapeRegex(n.negationSymbol.front)+"]","g"),"")).replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),""),isNaN(n.placeholder)&&(c=c.replace(new RegExp(e.escapeRegex(n.placeholder),"g"),"")),c.length>1&&1!==c.indexOf(n.radixPoint)&&("0"===g&&(c=c.replace(/^\?/g,"")),c=c.replace(/^0/g,"")),c.charAt(0)===n.radixPoint&&""!==n.radixPoint&&!0!==n.numericInput&&(c="0"+c),""!==c){if(c=c.split(""),(!n.digitsOptional||n.enforceDigitsOnBlur&&"blur"===a.event)&&isFinite(n.digits)){var d=i.inArray(n.radixPoint,c),u=i.inArray(n.radixPoint,l);-1===d&&(c.push(n.radixPoint),d=c.length-1);for(var x=1;x<=n.digits;x++)n.digitsOptional&&(!n.enforceDigitsOnBlur||"blur"!==a.event)||void 0!==c[d+x]&&c[d+x]!==n.placeholder.charAt(0)?-1!==u&&void 0!==l[u+x]&&(c[d+x]=c[d+x]||l[u+x]):c[d+x]=a.placeholder||n.placeholder.charAt(0)}if(!0!==n.autoGroup||""===n.groupSeparator||g===n.radixPoint&&void 0===a.pos&&!a.dopost)c=c.join("");else{var f=c[c.length-1]===n.radixPoint&&a.c===n.radixPoint;c=e(function(e,i){var r="";if(r+="("+i.groupSeparator+"*{"+i.groupSize+"}){*}",""!==i.radixPoint){var t=e.join("").split(i.radixPoint);t[1]&&(r+=i.radixPoint+"*{"+t[1].match(/^\d*\??\d*/)[0].length+"}")}return r}(c,n),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(c.join("")),f&&(c+=n.radixPoint),c.charAt(0)===n.groupSeparator&&c.substr(1)}}if(n.isNegative&&"blur"===a.event&&(n.isNegative="0"!==c),c=p+c,c+=o,n.isNegative&&(c=n.negationSymbol.front+c,c+=n.negationSymbol.back),c=c.split(""),void 0!==g)if(g!==n.radixPoint&&g!==n.negationSymbol.front&&g!==n.negationSymbol.back)(s=i.inArray("?",c))>-1?c[s]=g:s=a.caret||0;else if(g===n.radixPoint||g===n.negationSymbol.front||g===n.negationSymbol.back){var m=i.inArray(g,c);-1!==m&&(s=m)}n.numericInput&&(s=c.length-s-1,c=c.reverse());var v={caret:void 0!==g&&void 0===a.pos||void 0===s?s:s+(n.numericInput?-1:1),buffer:c,refreshFromBuffer:a.dopost||r.join("")!==c.join("")};return v.refreshFromBuffer?v:a},onBeforeWrite:function(r,t,a,n){if(r)switch(r.type){case"keydown":return n.postValidation(t,a,{caret:a,dopost:!0},n);case"blur":case"checkval":var o;if(function(i){void 0===i.parseMinMaxOptions&&(null!==i.min&&(i.min=i.min.toString().replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.min=i.min.replace(i.radixPoint,".")),i.min=isFinite(i.min)?parseFloat(i.min):NaN,isNaN(i.min)&&(i.min=Number.MIN_VALUE)),null!==i.max&&(i.max=i.max.toString().replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.max=i.max.replace(i.radixPoint,".")),i.max=isFinite(i.max)?parseFloat(i.max):NaN,isNaN(i.max)&&(i.max=Number.MAX_VALUE)),i.parseMinMaxOptions="done")}(n),null!==n.min||null!==n.max){if(o=n.onUnMask(t.join(""),void 0,i.extend({},n,{unmaskAsNumber:!0})),null!==n.min&&o<n.min)return n.isNegative=n.min<0,n.postValidation(n.min.toString().replace(".",n.radixPoint).split(""),a,{caret:a,dopost:!0,placeholder:"0"},n);if(null!==n.max&&o>n.max)return n.isNegative=n.max<0,n.postValidation(n.max.toString().replace(".",n.radixPoint).split(""),a,{caret:a,dopost:!0,placeholder:"0"},n)}return n.postValidation(t,a,{caret:a,placeholder:"0",event:"blur"},n);case"_checkval":return{caret:a}}},regex:{integerPart:function(i,r){return r?new RegExp("["+e.escapeRegex(i.negationSymbol.front)+"+]?"):new RegExp("["+e.escapeRegex(i.negationSymbol.front)+"+]?\\d+")},integerNPart:function(i){return new RegExp("[\\d"+e.escapeRegex(i.groupSeparator)+e.escapeRegex(i.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(i,r,t,a,n,o){var p;if("k"===i||"m"===i){p={insert:[],c:0};for(var s=0,l="k"===i?2:5;s<l;s++)p.insert.push({pos:t+s,c:0});return p.pos=t+l,p}if(!0===(p=a?new RegExp("[0-9"+e.escapeRegex(n.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i))){if(!0!==n.numericInput&&void 0!==r.validPositions[t]&&"~"===r.validPositions[t].match.def&&!o){var g=r.buffer.join(""),c=(g=(g=g.replace(new RegExp("[-"+e.escapeRegex(n.negationSymbol.front)+"]","g"),"")).replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),"")).split(n.radixPoint);c.length>1&&(c[1]=c[1].replace(/0/g,n.placeholder.charAt(0))),"0"===c[0]&&(c[0]=c[0].replace(/0/g,n.placeholder.charAt(0))),g=c[0]+n.radixPoint+c[1]||"";var d=r._buffer.join("");for(g===n.radixPoint&&(g=d);null===g.match(e.escapeRegex(d)+"$");)d=d.slice(1);p=void 0===(g=(g=g.replace(d,"")).split(""))[t]?{pos:t,remove:t}:{pos:t}}}else a||i!==n.radixPoint||void 0!==r.validPositions[t-1]||(p={insert:{pos:t,c:0},pos:t+1});return p},cardinality:1},"+":{validator:function(e,i,r,t,a){return a.allowMinus&&("-"===e||e===a.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,i,r,t,a){return a.allowMinus&&e===a.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(i,r,t,a,n){var o="["+e.escapeRegex(n.radixPoint)+"]",p=new RegExp(o).test(i);return p&&r.validPositions[t]&&r.validPositions[t].match.placeholder===n.radixPoint&&(p={caret:t+1}),p},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(i,r,t){if(""===r&&!0===t.nullable)return r;var a=i.replace(t.prefix,"");return a=(a=a.replace(t.suffix,"")).replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),""!==t.placeholder.charAt(0)&&(a=a.replace(new RegExp(t.placeholder.charAt(0),"g"),"0")),t.unmaskAsNumber?(""!==t.radixPoint&&-1!==a.indexOf(t.radixPoint)&&(a=a.replace(e.escapeRegex.call(this,t.radixPoint),".")),a=(a=a.replace(new RegExp("^"+e.escapeRegex(t.negationSymbol.front)),"-")).replace(new RegExp(e.escapeRegex(t.negationSymbol.back)+"$"),""),Number(a)):a},isComplete:function(i,r){var t=(r.numericInput?i.slice().reverse():i).join("");return t=(t=(t=(t=(t=t.replace(new RegExp("^"+e.escapeRegex(r.negationSymbol.front)),"-")).replace(new RegExp(e.escapeRegex(r.negationSymbol.back)+"$"),"")).replace(r.prefix,"")).replace(r.suffix,"")).replace(new RegExp(e.escapeRegex(r.groupSeparator)+"([0-9]{3})","g"),"$1"),","===r.radixPoint&&(t=t.replace(e.escapeRegex(r.radixPoint),".")),isFinite(t)},onBeforeMask:function(r,t){t.isNegative=void 0;var a=t.radixPoint||",";"number"!=typeof r&&"number"!==t.inputType||""===a||(r=r.toString().replace(".",a));var n=r.split(a),o=n[0].replace(/[^\-0-9]/g,""),p=n.length>1?n[1].replace(/[^0-9]/g,""):"";r=o+(""!==p?a+p:p);var s=0;if(""!==a&&(s=p.length,""!==p)){var l=Math.pow(10,s||1);isFinite(t.digits)&&(s=parseInt(t.digits),l=Math.pow(10,s)),r=r.replace(e.escapeRegex(a),"."),isFinite(r)&&(r=Math.round(parseFloat(r)*l)/l),r=r.toString().replace(".",a)}return 0===t.digits&&-1!==r.indexOf(e.escapeRegex(a))&&(r=r.substring(0,r.indexOf(e.escapeRegex(a)))),function(e,r,t){if(r>0){var a=i.inArray(t.radixPoint,e);-1===a&&(e.push(t.radixPoint),a=e.length-1);for(var n=1;n<=r;n++)e[a+n]=e[a+n]||"0"}return e}(r.toString().split(""),s,t).join("")},onKeyDown:function(r,t,a,n){var o=i(this);if(r.ctrlKey)switch(r.keyCode){case e.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),o.trigger("setvalue");break;case e.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),e});